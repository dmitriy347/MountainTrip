# üìñ API Guide - SkiTrip Journal

–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é REST API –ø—Ä–æ–µ–∫—Ç–∞ SkiTrip Journal.

---

## üîó –ë–∞–∑–æ–≤—ã–π URL
```
Production: https://snowlog.ru/api/
Local:      http://localhost:8000/api/
```

---

## üìö –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è](#-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
2. [–ö—É—Ä–æ—Ä—Ç—ã](#-–∫—É—Ä–æ—Ä—Ç—ã)
3. [–ü–æ–µ–∑–¥–∫–∏](#-–ø–æ–µ–∑–¥–∫–∏)
4. [–ú–µ–¥–∏–∞—Ñ–∞–π–ª—ã](#-–º–µ–¥–∏–∞—Ñ–∞–π–ª—ã)
5. [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏](#-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
6. [–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤](#-–∫–æ–¥—ã-–æ—Ç–≤–µ—Ç–æ–≤)

---

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **JWT (JSON Web Tokens)** –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤:

**Endpoint:** `POST /api/auth/token/`

**Request:**
```json
{
  "username": "testuser",
  "password": "testuser"
}
```

**Response (200 OK):**
```json
{
  "access": "eyJ0eXAiOiJKV1QiLCJhbGc...",
  "refresh": "eyJ0eXAiOiJKV1QiLCJhbGc..."
}
```

**–í—Ä–µ–º—è –∂–∏–∑–Ω–∏:**
- **Access —Ç–æ–∫–µ–Ω:** 15 –º–∏–Ω—É—Ç
- **Refresh —Ç–æ–∫–µ–Ω:** 7 –¥–Ω–µ–π

---

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞:

**Endpoint:** `POST /api/auth/token/refresh/`

**Request:**
```json
{
  "refresh": "eyJ0eXAiOiJKV1QiLCJhbGc..."
}
```

**Response (200 OK):**
```json
{
  "access": "–Ω–æ–≤—ã–π_access_—Ç–æ–∫–µ–Ω...",
  "refresh": "–Ω–æ–≤—ã–π_refresh_—Ç–æ–∫–µ–Ω..."
}
```

---

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞:

–î–æ–±–∞–≤—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization` –≤ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å:
```http
Authorization: Bearer 
```

**–ü—Ä–∏–º–µ—Ä (curl):**
```bash
curl http://localhost:8000/api/trips/ \
  -H "Authorization: Bearer eyJ0eXAiOiJKV1Q..."
```

---

## üèîÔ∏è –ö—É—Ä–æ—Ä—Ç—ã

### –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫—É—Ä–æ—Ä—Ç–æ–≤:

**Endpoint:** `GET /api/resorts/`

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|----------|-----|----------|--------|
| `search` | string | –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, —Ä–µ–≥–∏–æ–Ω—É, –æ–ø–∏—Å–∞–Ω–∏—é | `?search=–†–æ–∑–∞` |
| `region` | string | –§–∏–ª—å—Ç—Ä –ø–æ —Ä–µ–≥–∏–æ–Ω—É (—á–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ) | `?region=–£—Ä–∞–ª` |
| `name` | string | –§–∏–ª—å—Ç—Ä –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é (—á–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ) | `?name=–®–µ—Ä–µ–≥–µ` |
| `ordering` | string | –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ | `?ordering=name` –∏–ª–∏ `?ordering=-region` |
| `page` | integer | –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã | `?page=2` |

**–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:**
```bash
# –í—Å–µ –∫—É—Ä–æ—Ä—Ç—ã
GET /api/resorts/

# –ü–æ–∏—Å–∫ "–†–æ–∑–∞"
GET /api/resorts/?search=–†–æ–∑–∞

# –ö—É—Ä–æ—Ä—Ç—ã –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏
GET /api/resorts/?region=–°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è

# –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É
GET /api/resorts/?ordering=name

# –ö–æ–º–±–∏–Ω–∞—Ü–∏—è
GET /api/resorts/?region=–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π&ordering=name
```

**Response (200 OK):**
```json
{
  "count": 15,
  "next": null,
  "previous": null,
  "results": [
    {
      "id": 8,
      "name": "–ê–±–∑–∞–∫–æ–≤–æ",
      "slug": "abzakovo",
      "region": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω",
      "description": "–ö—Ä—É–ø–Ω–µ–π—à–∏–π –∫—É—Ä–æ—Ä—Ç –£—Ä–∞–ª–∞ ...",
      "created_at": "2025-12-24T15:31:04.771000+05:00"
    },
    {
      "id": 4,
      "name": "–ê—Ä—Ö—ã–∑",
      "slug": "arkhyz",
      "region": "–ö–∞—Ä–∞—á–∞–µ–≤–æ-–ß–µ—Ä–∫–µ—Å—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞",
      "description": "–ú–æ–ª–æ–¥–æ–π –∫—É—Ä–æ—Ä—Ç –≤ –ó–∞–ø–∞–¥–Ω–æ–º –ö–∞–≤–∫–∞–∑–µ ...",
      "created_at": "2025-12-24T15:31:04.771000+05:00"
    }
  ]
}
```

---

### –î–µ—Ç–∞–ª–∏ –∫—É—Ä–æ—Ä—Ç–∞:

**Endpoint:** `GET /api/resorts/{slug}/`

**–ü—Ä–∏–º–µ—Ä:**
```bash
GET /api/resorts/roza-hutor/
```

**Response (200 OK):**
```json
{
  "id": 1,
  "name": "–†–æ–∑–∞ –•—É—Ç–æ—Ä",
  "slug": "roza-khutor",
  "region": "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π, –ö—Ä–∞—Å–Ω–∞—è –ü–æ–ª—è–Ω–∞",
  "description": "–ö—Ä—É–ø–Ω–µ–π—à–∏–π –≥–æ—Ä–Ω–æ–ª—ã–∂–Ω—ã–π –∫—É—Ä–æ—Ä—Ç –†–æ—Å—Å–∏–∏ ...",
  "created_at": "2025-12-24T15:31:04.771000+05:00"
}
```
**–û—à–∏–±–∫–∏:**
- `404 Not Found` - –∫—É—Ä–æ—Ä—Ç —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º slug –Ω–µ –Ω–∞–π–¥–µ–Ω

---

### –ü–æ–µ–∑–¥–∫–∏ –Ω–∞ –∫—É—Ä–æ—Ä—Ç:

**Endpoint:** `GET /api/resorts/{slug}/trips/`

**–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:**
- **–ì–æ—Å—Ç—å:** –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –ø—É–±–ª–∏—á–Ω—ã–µ –ø–æ–µ–∑–¥–∫–∏
- **–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π:** –≤–∏–¥–∏—Ç –ø—É–±–ª–∏—á–Ω—ã–µ –ø–æ–µ–∑–¥–∫–∏ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π + —Å–≤–æ–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ

**–ü—Ä–∏–º–µ—Ä:**
```bash
GET /api/resorts/roza-hutor/trips/
```

**Response (200 OK):**
```json
[
  {
    "id": 1,
    "user": "testuser",
    "resort": {
      "id": 1,
      "name": "–†–æ–∑–∞ –•—É—Ç–æ—Ä",
      "slug": "roza-hutor",
      "region": "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π",
      "description": "–ö—Ä—É–ø–Ω–µ–π—à–∏–π –≥–æ—Ä–Ω–æ–ª—ã–∂–Ω—ã–π –∫—É—Ä–æ—Ä—Ç –†–æ—Å—Å–∏–∏ ...",
      "created_at": "2025-12-24T15:31:04.771000+05:00"
    },
    "start_date": "2024-01-10",
    "end_date": "2024-01-17",
    "comment": "–û—Ç–ª–∏—á–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞ –Ω–∞ –†–æ–∑—É –•—É—Ç–æ—Ä ...",
    "is_public": true,
    "created_at": "2024-01-20T15:00:00+05:00"
  }
]
```

**–û—à–∏–±–∫–∏:**
- `404 Not Found` - –∫—É—Ä–æ—Ä—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω

---

## üéø –ü–æ–µ–∑–¥–∫–∏

### –°–ø–∏—Å–æ–∫ –ø–æ–µ–∑–¥–æ–∫:

**Endpoint:** `GET /api/trips/`

**–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:**
- **–ì–æ—Å—Ç—å:** –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –ø—É–±–ª–∏—á–Ω—ã–µ –ø–æ–µ–∑–¥–∫–∏
- **–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π:** –≤–∏–¥–∏—Ç –ø—É–±–ª–∏—á–Ω—ã–µ –ø–æ–µ–∑–¥–∫–∏ –≤—Å–µ—Ö + —Å–≤–æ–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ

| –ü–∞—Ä–∞–º–µ—Ç—Ä          | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä                        |
|-------------------|-----|----------|-------------------------------|
| `is_public`       | boolean | –¢–æ–ª—å–∫–æ –ø—É–±–ª–∏—á–Ω—ã–µ/–ø—Ä–∏–≤–∞—Ç–Ω—ã–µ | `?is_public=true`             |
| `resort_id`       | integer | ID –∫—É—Ä–æ—Ä—Ç–∞ | `?resort_id=1`                |
| `resort_region`   | string | –†–µ–≥–∏–æ–Ω –∫—É—Ä–æ—Ä—Ç–∞ (—á–∞—Å—Ç–∏—á–Ω–æ–µ) | `?resort_region=–£—Ä–∞–ª`         |
| `start_date_from` | date | –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ (–æ—Ç) | `?start_date_from=2024-01-01` |
| `start_date_to`   | date | –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ (–¥–æ) | `?start_date_to=2024-12-31`   |
| `end_date_from`   | date | –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è (–æ—Ç) | `?end_date_from=2024-01-01`   |
| `end_date_to`     | date | –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è (–¥–æ) | `?end_date_to=2024-12-31`     |
| `search`          | string | –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∫—É—Ä–æ—Ä—Ç–∞, —Ä–µ–≥–∏–æ–Ω—É, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—é | `?search=—Å–Ω–µ–≥`                |
| `ordering`        | string | –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ | `?ordering=-start_date`       |
| `page`            | integer | –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã | `?page=2`                     |

**–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:**
```bash
# –í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ –ø–æ–µ–∑–¥–∫–∏
GET /api/trips/?is_public=true

# –ü–æ–µ–∑–¥–∫–∏ –Ω–∞ –†–æ–∑—É –•—É—Ç–æ—Ä
GET /api/trips/?resort_id=1

# –ü–æ–µ–∑–¥–∫–∏ –≤ –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫—É—é –æ–±–ª–∞—Å—Ç—å
GET /api/trips/?resort_region=–°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è

# –ü–æ–µ–∑–¥–∫–∏ –ø–æ—Å–ª–µ 1 —è–Ω–≤–∞—Ä—è 2024
GET /api/trips/?start_date_from=2024-01-01

# –ü–æ–µ–∑–¥–∫–∏ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –¥–∞—Ç
GET /api/trips/?start_date_from=2024-01-01&start_date_to=2024-03-31

# –ö–æ–º–±–∏–Ω–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ + —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
GET /api/trips/?is_public=true&resort_region=–°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è&ordering=-start_date

# –ü–æ–∏—Å–∫ –ø–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—é
GET /api/trips/?search=—Å–Ω–µ–≥
```

**Response (200 OK):**
```json
{
  "count": 15,
  "next": "http://localhost:8000/api/trips/?page=2",
  "previous": null,
  "results": [
    {
      "id": 1,
      "user": "testuser",
      "resort": {
        "id": 1,
        "name": "–†–æ–∑–∞ –•—É—Ç–æ—Ä",
        "slug": "roza-hutor",
        "region": "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π",
        "description": "...",
        "created_at": "2025-12-24T15:31:04.771000+05:00"
      },
      "start_date": "2024-01-10",
      "end_date": "2024-01-17",
      "comment": "–û—Ç–ª–∏—á–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞ –Ω–∞ –†–æ–∑—É –•—É—Ç–æ—Ä ...",
      "is_public": true,
      "created_at": "2024-01-20T15:00:00+05:00"
    }
  ]
}
```

---

### –î–µ—Ç–∞–ª–∏ –ø–æ–µ–∑–¥–∫–∏:

**Endpoint:** `GET /api/trips/{id}/`

**–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:**
- **–ì–æ—Å—Ç—å:** —Ç–æ–ª—å–∫–æ –ø—É–±–ª–∏—á–Ω—ã–µ –ø–æ–µ–∑–¥–∫–∏
- **–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π:** –ø—É–±–ª–∏—á–Ω—ã–µ + —Å–≤–æ–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ

**–ü—Ä–∏–º–µ—Ä:**
```bash
GET /api/trips/5/
```

**Response (200 OK):**
```json
{
  "id": 5,
  "user": "testuser",
  "resort": {
    "id": 3,
    "name": "–ö—Ä–∞—Å–Ω–∞—è –ü–æ–ª—è–Ω–∞ (–ì–∞–∑–ø—Ä–æ–º)",
    "slug": "krasnaya-polyana-gazprom",
    "region": "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π, –ö—Ä–∞—Å–Ω–∞—è –ü–æ–ª—è–Ω–∞",
    "description": "–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤—Å–µ—Å–µ–∑–æ–Ω–Ω—ã–π –∫—É—Ä–æ—Ä—Ç —Å —Ä–∞–∑–≤–∏—Ç–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π. –ü–µ—Ä–µ–ø–∞–¥ –≤—ã—Å–æ—Ç 1428 –º, 30 –∫–º —Ç—Ä–∞—Å—Å. –í–∫–ª—é—á–∞–µ—Ç –∑–æ–Ω—ã –ê–ª—å–ø–∏–∫–∞, –õ–∞—É—Ä–∞ –∏ –ì–æ—Ä–∫–∏ –ì–æ—Ä–æ–¥. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–µ–º–µ–π–Ω–æ–≥–æ –æ—Ç–¥—ã—Ö–∞. –°–µ–∑–æ–Ω: –¥–µ–∫–∞–±—Ä—å-–∞–ø—Ä–µ–ª—å.",
    "created_at": "2025-12-24T15:31:04.771000+05:00"
  },
  "start_date": "2024-02-14",
  "end_date": "2024-02-18",
  "comment": "–ö—Ä–∞—Å–Ω–∞—è –ü–æ–ª—è–Ω–∞ –Ω–∞ –î–µ–Ω—å –°–≤—è—Ç–æ–≥–æ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞. –†–æ–º–∞–Ω—Ç–∏—á–Ω–æ –∏ –∞–∫—Ç–∏–≤–Ω–æ! –û—Ç–ª–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –Ω–∞ —Ç—Ä–∞—Å—Å–∞—Ö.",
  "is_public": true,
  "created_at": "2024-02-20T16:00:00+05:00"
}
```

**–û—à–∏–±–∫–∏:**
- `404 Not Found` - –ø–æ–µ–∑–¥–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –∏–ª–∏ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∞ (–ø—Ä–∏–≤–∞—Ç–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞ –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

---

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–µ–∑–¥–∫–∏:

**Endpoint:** `POST /api/trips/`

**–¢—Ä–µ–±—É–µ—Ç—Å—è:** JWT —Ç–æ–∫–µ–Ω (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)

**Request:**
```json
{
  "resort": 1,
  "start_date": "2026-06-01",
  "end_date": "2026-06-07",
  "comment": "–ü–ª–∞–Ω–∏—Ä—É–µ–º –ø–æ–µ–∑–¥–∫—É –ª–µ—Ç–æ–º",
  "is_public": true
}
```

**Response (201 Created):**
```json
{
  "id": 16,
  "user": "testuser",
  "resort": {
    "id": 1,
    "name": "–†–æ–∑–∞ –•—É—Ç–æ—Ä",
    "...": "..."
  },
  "start_date": "2026-06-01",
  "end_date": "2026-06-07",
  "comment": "–ü–ª–∞–Ω–∏—Ä—É–µ–º –ø–æ–µ–∑–¥–∫—É –ª–µ—Ç–æ–º",
  "is_public": true,
  "created_at": "2026-02-10T15:30:00Z"
}
```

**–û—à–∏–±–∫–∏:**
- `401 Unauthorized` - —Ç–æ–∫–µ–Ω –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω –∏–ª–∏ –Ω–µ–≤–∞–ª–∏–¥–µ–Ω
- `400 Bad Request` - –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, start_date > end_date)

---

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–µ–∑–¥–∫–∏ (–ø–æ–ª–Ω–æ–µ):

**Endpoint:** `PUT /api/trips/{id}/`

**–¢—Ä–µ–±—É–µ—Ç—Å—è:** –í–ª–∞–¥–µ–ª–µ—Ü –ø–æ–µ–∑–¥–∫–∏ (JWT —Ç–æ–∫–µ–Ω)

**Request (–≤—Å–µ –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã):**
```json
{
  "resort": 1,
  "start_date": "2024-06-01",
  "end_date": "2024-06-10",
  "comment": "–ü—Ä–æ–¥–ª–∏–ª–∏ –ø–æ–µ–∑–¥–∫—É –Ω–∞ 3 –¥–Ω—è!",
  "is_public": true
}
```

**Response (200 OK):** –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞

**–û—à–∏–±–∫–∏:**
- `401 Unauthorized` - –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- `403 Forbidden` - —ç—Ç–æ –Ω–µ –≤–∞—à–∞ –ø–æ–µ–∑–¥–∫–∞
- `400 Bad Request` - –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `404 Not Found` - –ø–æ–µ–∑–¥–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

---

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–µ–∑–¥–∫–∏ (—á–∞—Å—Ç–∏—á–Ω–æ–µ):

**Endpoint:** `PATCH /api/trips/{id}/`

**–¢—Ä–µ–±—É–µ—Ç—Å—è:** –í–ª–∞–¥–µ–ª–µ—Ü –ø–æ–µ–∑–¥–∫–∏ (JWT —Ç–æ–∫–µ–Ω)

**Request (—Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—è–µ–º—ã–µ –ø–æ–ª—è):**
```json
{
  "is_public": false
}
```

**Response (200 OK):** –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞

**–û—à–∏–±–∫–∏:** —Ç–µ –∂–µ, —á—Ç–æ —É PUT

---

### –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–µ–∑–¥–∫–∏:

**Endpoint:** `DELETE /api/trips/{id}/`

**–¢—Ä–µ–±—É–µ—Ç—Å—è:** –í–ª–∞–¥–µ–ª–µ—Ü –ø–æ–µ–∑–¥–∫–∏ (JWT —Ç–æ–∫–µ–Ω)

**Response (204 No Content):** –ø—É—Å—Ç–æ–µ —Ç–µ–ª–æ

**–û—à–∏–±–∫–∏:**
- `401 Unauthorized` - –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- `403 Forbidden` - —ç—Ç–æ –Ω–µ –≤–∞—à–∞ –ø–æ–µ–∑–¥–∫–∞
- `404 Not Found` - –ø–æ–µ–∑–¥–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

---

## üì∏ –ú–µ–¥–∏–∞—Ñ–∞–π–ª—ã

### –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤:

**Endpoint:** `GET /api/media/`

**–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:**
- **–ì–æ—Å—Ç—å:** –º–µ–¥–∏–∞ –ø—É–±–ª–∏—á–Ω—ã—Ö –ø–æ–µ–∑–¥–æ–∫
- **–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π:** –º–µ–¥–∏–∞ –ø—É–±–ª–∏—á–Ω—ã—Ö + —Å–≤–æ–∏—Ö –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –ø–æ–µ–∑–¥–æ–∫

**Response (200 OK):**
```json
{
  "count": 11,
  "next": "http://localhost:8000/api/media/?page=2",
  "previous": null,
  "results": [
    {
      "id": 1,
      "trip": 1,
      "image": "http://localhost:8000/media/trip_photos/roza_khutor_1.jpg",
      "uploaded_at": "2024-01-20T15:05:00+05:00"
    }
  ]
}
```

---

### –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ø–æ–µ–∑–¥–∫–∏:

**Endpoint:** `GET /api/trips/{id}/media/`

**–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:** –∑–∞–≤–∏—Å—è—Ç –æ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∞–º–æ–π –ø–æ–µ–∑–¥–∫–µ

**–ü—Ä–∏–º–µ—Ä:**
```bash
GET /api/trips/5/media/
```

**Response (200 OK):**
```json
[
  {
    "id": 7,
    "trip": 5,
    "image": "http://localhost:8000/media/trip_photos/krasnaya_polyana_1.jpg",
    "uploaded_at": "2024-02-20T16:05:00+05:00"
  },
  {
    "id": 8,
    "trip": 5,
    "image": "http://localhost:8000/media/trip_photos/krasnaya_polyana_2.jpg",
    "uploaded_at": "2024-02-20T16:06:00+05:00"
  }
]
```

**–û—à–∏–±–∫–∏:**
- `404 Not Found` - –ø–æ–µ–∑–¥–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞

---

### –î–µ—Ç–∞–ª–∏ –º–µ–¥–∏–∞—Ñ–∞–π–ª–∞:

**Endpoint:** `GET /api/media/{id}/`

**–ü—Ä–∏–º–µ—Ä:**
```bash
GET /api/media/12/
```

**Response (200 OK):**
```json
{
  "id": 12,
  "trip": 8,
  "image": "http://localhost:8000/media/trip_photos/manzherok.jpg",
  "uploaded_at": "2024-02-26T15:20:00+05:00"
}
```

---

## üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

### –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

**Endpoint:** `GET /api/users/`

**–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:** –¥–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º

**Response (200 OK):**
```json
{
  "count": 3,
  "next": null,
  "previous": null,
  "results": [
    {
      "id": 1,
      "username": "testuser",
      "date_joined": "2024-01-01T15:00:00+05:00",
      "trips_count": 5
    },
    {
      "id": 2,
      "username": "anotheruser",
      "date_joined": "2024-01-05T12:30:00Z",
      "trips_count": 5
    }
  ]
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** `trips_count` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—É–±–ª–∏—á–Ω—ã—Ö –ø–æ–µ–∑–¥–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

---

### –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

**Endpoint:** `GET /api/users/{id}/`

**–ü—Ä–∏–º–µ—Ä:**
```bash
GET /api/users/1/
```

**Response (200 OK):**
```json
{
  "id": 1,
  "username": "testuser",
  "date_joined": "2024-01-01T10:00:00Z",
  "trips_count": 5
}
```

**–û—à–∏–±–∫–∏:**
- `404 Not Found` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω

---

### –ü–æ–µ–∑–¥–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

**Endpoint:** `GET /api/users/{id}/trips/`

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** —Ç–æ–ª—å–∫–æ –ø—É–±–ª–∏—á–Ω—ã–µ –ø–æ–µ–∑–¥–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**Response (200 OK):**
```json
[
  {
    "id": 1,
    "user": "testuser",
    "resort": {
      "id": 1,
      "name": "–†–æ–∑–∞ –•—É—Ç–æ—Ä",
      "...": "..."
    },
    "start_date": "2024-01-10",
    "end_date": "2024-01-17",
    "comment": "–û—Ç–ª–∏—á–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞ ...",
    "is_public": true,
    "created_at": "2024-01-20T15:00:00+05:00"
  }
]
```

**–û—à–∏–±–∫–∏:**
- `404 Not Found` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω

---

## üìä –ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤

| –ö–æ–¥ | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|----------|
| `200 OK` | –£—Å–ø–µ—à–Ω–æ | –ó–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ |
| `201 Created` | –°–æ–∑–¥–∞–Ω–æ | –û–±—ä–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω |
| `204 No Content` | –ù–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ | –û–±—ä–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª—ë–Ω (—Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ –ø—É—Å—Ç–æ–µ) |
| `400 Bad Request` | –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å | –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∑–∞–ø—Ä–æ—Å–µ |
| `401 Unauthorized` | –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω | –¢—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (—Ç–æ–∫–µ–Ω –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω –∏–ª–∏ –∏—Å—Ç—ë–∫) |
| `403 Forbidden` | –ó–∞–ø—Ä–µ—â–µ–Ω–æ | –ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (–Ω–µ –≤–ª–∞–¥–µ–ª–µ—Ü —Ä–µ—Å—É—Ä—Å–∞) |
| `404 Not Found` | –ù–µ –Ω–∞–π–¥–µ–Ω–æ | –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–π —Ä–µ—Å—É—Ä—Å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç |
| `405 Method Not Allowed` | –ú–µ—Ç–æ–¥ –Ω–µ —Ä–∞–∑—Ä–µ—à—ë–Ω | HTTP –º–µ—Ç–æ–¥ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –¥–ª—è —ç—Ç–æ–≥–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ |
| `500 Internal Server Error` | –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ | –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ |
---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **Swagger UI (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è):** https://snowlog.ru/api/docs/
- **ReDoc (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è):** https://snowlog.ru/api/redoc/
- **OpenAPI —Å—Ö–µ–º–∞ (JSON):** https://snowlog.ru/api/schema/
- **GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** https://github.com/dmitriy347/MountainTrip
- **–û—Å–Ω–æ–≤–Ω–æ–π —Å–∞–π—Ç:** https://snowlog.ru